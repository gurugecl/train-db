{"version":3,"sources":["../../routes/light.js"],"names":["require","Router","PgConnection","dbConnectionInfo","pg","router","get","request","response","next","getAll","result","json","console","error","id","params","getById","module","exports"],"mappings":";;;;eAAmBA,QAAQ,SAAR,C;IAAXC,M,YAAAA,M;;AACR,IAAMC,eAAeF,QAAQ,iBAAR,CAArB;AACA,IAAMG,mBAAmBH,QAAQ,6BAAR,CAAzB;AACA,IAAMI,KAAK,IAAIF,YAAJ,CAAiBC,gBAAjB,CAAX;AACA,IAAME,SAASJ,QAAf;;AAEAI,OAAOC,GAAP,CAAW,GAAX;AAAA,yDAAgB,iBAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEaL,GAAGM,MAAH,CAAU,OAAV,CAFb;;AAAA;AAEFC,8BAFE;;AAGRH,iCAASI,IAAT,CAAcD,MAAd;AAHQ;AAAA;;AAAA;AAAA;AAAA;;AAKRE,gCAAQC,KAAR;AACAL;;AANQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhB;;AAAA;AAAA;AAAA;AAAA;;AAUAJ,OAAOC,GAAP,CAAW,MAAX;AAAA,0DAAmB,kBAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AACPM,0BADO,GACAR,QAAQS,MADR,CACPD,EADO;AAAA;AAAA;AAAA,+BAGUX,GAAGa,OAAH,CAAW,OAAX,EAAoBF,EAApB,CAHV;;AAAA;AAGLJ,8BAHK;;AAIXH,iCAASI,IAAT,CAAcD,MAAd;AAJW;AAAA;;AAAA;AAAA;AAAA;;AAMXE,gCAAQC,KAAR;AACAL;;AAPW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAnB;;AAAA;AAAA;AAAA;AAAA;;AAWAS,OAAOC,OAAP,GAAiBd,MAAjB","file":"light.js","sourcesContent":["const { Router } = require('express');\r\nconst PgConnection = require('postgresql-easy');\r\nconst dbConnectionInfo = require('../secrets/db_configuration');\r\nconst pg = new PgConnection(dbConnectionInfo);\r\nconst router = Router();\r\n\r\nrouter.get('/', async (request, response, next) => {\r\n    try {\r\n        const result = await pg.getAll('light');\r\n        response.json(result);\r\n    } catch (e) {\r\n        console.error(e);\r\n        next(e);\r\n    }\r\n});\r\n\r\nrouter.get('/:id', async (request, response, next) => {\r\n    const { id } = request.params;\r\n    try {\r\n        const result = await pg.getById('light', id);\r\n        response.json(result);\r\n    } catch (e) {\r\n        console.error(e);\r\n        next(e);\r\n    }\r\n});\r\n\r\nmodule.exports = router;"]}