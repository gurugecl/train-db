{"version":3,"sources":["../../routes/light.js"],"names":["require","Router","pool","router","get","request","response","next","sql","query","rowCount","rows","json","console","error","id","params","module","exports"],"mappings":";;;;eAAmBA,QAAQ,SAAR,C;IAAXC,M,YAAAA,M;;AACR,IAAMC,OAAOF,QAAQ,aAAR,CAAb;;AAEA,IAAMG,SAASF,QAAf;;AAEAE,OAAOC,GAAP,CAAW,GAAX;AAAA,yDAAgB,iBAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B;AAAA;;AAAA;AAAA;AAAA;AAAA;AACNC,2BADM;AAAA;AAAA;AAAA,+BAMuBN,KAAKO,KAAL,CAAWD,GAAX,CANvB;;AAAA;AAAA;AAMDE,gCANC,SAMDA,QANC;AAMSC,4BANT,SAMSA,IANT;;AAORL,iCAASM,IAAT,CAAcF,WAAWC,IAAX,GAAkB,EAAhC;AAPQ;AAAA;;AAAA;AAAA;AAAA;;AASRE,gCAAQC,KAAR;AACAP;;AAVQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhB;;AAAA;AAAA;AAAA;AAAA;;AAcAJ,OAAOC,GAAP,CAAW,WAAX;AAAA,0DAAwB,kBAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B;AAAA;;AAAA;AAAA;AAAA;AAAA;AACZQ,0BADY,GACLV,QAAQW,MADH,CACZD,EADY;AAEdP,2BAFc;AAAA;AAAA;AAAA,+BAOeN,KAAKO,KAAL,CAAWD,GAAX,EAAgBO,EAAhB,CAPf;;AAAA;AAAA;AAOTL,gCAPS,SAOTA,QAPS;AAOCC,4BAPD,SAOCA,IAPD;;AAQhBL,iCAASM,IAAT,CAAcF,WAAWC,IAAX,GAAiB,EAA/B;AARgB;AAAA;;AAAA;AAAA;AAAA;;AAUhBE,gCAAQC,KAAR;AACAP;;AAXgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAxB;;AAAA;AAAA;AAAA;AAAA;;AAeAU,OAAOC,OAAP,GAAiBf,MAAjB","file":"light.js","sourcesContent":["const { Router } = require('express');\r\nconst pool = require('../db/index');\r\n\r\nconst router = Router();\r\n\r\nrouter.get('/', async (request, response, next) => {\r\n    const sql = `\r\n\t\tSELECT *\r\n\t\tFROM light\r\n\t\tORDER BY id ASC`;\r\n    try {\r\n        const {rowCount, rows} = await pool.query(sql);\r\n        response.json(rowCount ? rows : []);\r\n    } catch (e) {\r\n        console.error(e);\r\n        next(e);\r\n    }\r\n});\r\n\r\nrouter.get('light/:id', async (request, response, next) => {\r\n    const { id } = request.params;\r\n    const sql = `\r\n\t\tSELECT *\r\n\t\tFROM light\r\n\t\tWHERE id = $1`;\r\n    try {\r\n        const {rowCount, rows} = await pool.query(sql, id);\r\n        response.json(rowCount ? rows :[]);\r\n    } catch (e) {\r\n        console.error(e);\r\n        next(e);\r\n    }\r\n});\r\n\r\nmodule.exports = router;"]}