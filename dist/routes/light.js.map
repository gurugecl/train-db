{"version":3,"sources":["../../routes/light.js"],"names":["require","Router","pool","router","get","request","response","next","console","log","query","err","res","rows","json","post","body","level","amount","redirect","module","exports"],"mappings":";;eAAmBA,QAAQ,SAAR,C;IAAXC,M,YAAAA,M;;AACR,IAAMC,OAAOF,QAAQ,OAAR,CAAb;;AAEA,IAAMG,SAASF,QAAf;;AAEAE,OAAOC,GAAP,CAAW,GAAX,EAAgB,UAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA6B;AAC3CC,UAAQC,GAAR,CAAY,YAAZ;AACAP,OAAKQ,KAAL,CAAW,qCAAX,EAAkD,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC9DJ,YAAQC,GAAR,CAAYE,GAAZ;AACA,QAAIA,GAAJ,EAAS,OAAOJ,KAAKI,GAAL,CAAP;;AAETH,YAAQC,GAAR,CAAYG,IAAIC,IAAhB;AACAP,aAASQ,IAAT,CAAcF,IAAIC,IAAlB;AACD,GAND;AAOD,CATD;;AAWAV,OAAOY,IAAP,CAAY,GAAZ,EAAiB,UAACV,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA6B;AAAA,sBAClBF,QAAQW,IADU;AAAA,MACpCC,KADoC,iBACpCA,KADoC;AAAA,MAC7BC,MAD6B,iBAC7BA,MAD6B;;;AAG5ChB,OAAKQ,KAAL,CACE,iDADF,EAEE,CAACO,KAAD,EAAQC,MAAR,CAFF,EAGE,UAACP,GAAD,EAAMC,GAAN,EAAc;AACZ,QAAID,GAAJ,EAAS,OAAOJ,KAAKI,GAAL,CAAP;;AAETL,aAASa,QAAT,CAAkB,QAAlB;AACD,GAPH;AASD,CAZD;;AAcAC,OAAOC,OAAP,GAAiBlB,MAAjB","file":"light.js","sourcesContent":["const { Router } = require('express');\r\nconst pool = require('../db');\r\n\r\nconst router = Router();\r\n\r\nrouter.get('/', (request, response, next) => {\r\n  console.log('inside get');\r\n  pool.query('SELECT * FROM light ORDER BY id ASC', (err, res) => {\r\n    console.log(err);\r\n    if (err) return next(err);\r\n\r\n    console.log(res.rows);\r\n    response.json(res.rows);\r\n  });\r\n});\r\n\r\nrouter.post('/', (request, response, next) => {\r\n  const { level, amount } = request.body;\r\n\r\n  pool.query(\r\n    'INSERT INTO light(level, amount) VALUES($1, $2)',\r\n    [level, amount],\r\n    (err, res) => {\r\n      if (err) return next(err);\r\n\r\n      response.redirect('/light');\r\n    },\r\n  );\r\n});\r\n\r\nmodule.exports = router;\r\n"]}