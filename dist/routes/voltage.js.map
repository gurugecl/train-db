{"version":3,"sources":["../../routes/voltage.js"],"names":["require","Router","pool","router","get","request","response","next","sql","query","rowCount","rows","json","console","error","id","params","module","exports"],"mappings":";;;;eAAmBA,QAAQ,SAAR,C;IAAXC,M,YAAAA,M;;AACR,IAAMC,OAAOF,QAAQ,aAAR,CAAb;;AAEA,IAAMG,SAASF,QAAf;;AAEAE,OAAOC,GAAP,CAAW,GAAX;AAAA,uDAAgB,iBAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B;AAAA;;AAAA;AAAA;AAAA;AAAA;AACRC,eADQ;AAAA;AAAA;AAAA,mBAMqBN,KAAKO,KAAL,CAAWD,GAAX,CANrB;;AAAA;AAAA;AAMJE,oBANI,SAMJA,QANI;AAMMC,gBANN,SAMMA,IANN;;AAOZL,qBAASM,IAAT,CAAcF,WAAWC,IAAX,GAAkB,EAAhC;AAPY;AAAA;;AAAA;AAAA;AAAA;;AASZE,oBAAQC,KAAR;AACAP;;AAVY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AAAA;AAAA;AAAA;AAAA;;AAcAJ,OAAOC,GAAP,CAAW,MAAX;AAAA,wDAAmB,kBAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B;AAAA;;AAAA;AAAA;AAAA;AAAA;AACPQ,cADO,GACAV,QAAQW,MADR,CACPD,EADO;AAETP,eAFS;AAAA;AAAA;AAAA,mBAOoBN,KAAKO,KAAL,CAAWD,GAAX,EAAgBO,EAAhB,CAPpB;;AAAA;AAAA;AAOJL,oBAPI,SAOJA,QAPI;AAOMC,gBAPN,SAOMA,IAPN;;AAQXL,qBAASM,IAAT,CAAcF,WAAWC,IAAX,GAAiB,EAA/B;AARW;AAAA;;AAAA;AAAA;AAAA;;AAUXE,oBAAQC,KAAR;AACAP;;AAXW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAAA;AAAA;AAAA;AAAA;;AAeAU,OAAOC,OAAP,GAAiBf,MAAjB","file":"voltage.js","sourcesContent":["const { Router } = require('express');\r\nconst pool = require('../db/index');\r\n\r\nconst router = Router();\r\n\r\nrouter.get('/', async (request, response, next) => {\r\n  const sql = `\r\n\t\tSELECT *\r\n\t\tFROM voltage\r\n\t\tORDER BY id ASC`;\r\n  try {\r\n    const { rowCount, rows } = await pool.query(sql);\r\n    response.json(rowCount ? rows : []);\r\n  } catch (e) {\r\n    console.error(e);\r\n    next(e);\r\n  }\r\n});\r\n\r\nrouter.get('/:id', async (request, response, next) => {\r\n    const { id } = request.params;\r\n    const sql = `\r\n\t\tSELECT *\r\n\t\tFROM voltage\r\n\t\tWHERE id = $1`;\r\n    try {\r\n        const {rowCount, rows} = await pool.query(sql, id);\r\n        response.json(rowCount ? rows :[]);\r\n    } catch (e) {\r\n        console.error(e);\r\n        next(e);\r\n    }\r\n});\r\n\r\nmodule.exports = router;"]}