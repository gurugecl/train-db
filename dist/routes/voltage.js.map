{"version":3,"sources":["../../routes/voltage.js"],"names":["require","Router","pool","router","get","request","response","next","query","err","res","json","rows","post","body","level","amount","redirect","module","exports"],"mappings":";;eAAmBA,QAAQ,SAAR,C;IAAXC,M,YAAAA,M;;AACR,IAAMC,OAAOF,QAAQ,OAAR,CAAb;;AAEA,IAAMG,SAASF,QAAf;;AAEAE,OAAOC,GAAP,CAAW,GAAX,EAAgB,UAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA6B;AAC3CL,OAAKM,KAAL,CAAW,uCAAX,EAAoD,UAACC,GAAD,EAAMC,GAAN,EAAc;AAChE,QAAID,GAAJ,EAAS,OAAOF,KAAKE,GAAL,CAAP;;AAETH,aAASK,IAAT,CAAcD,IAAIE,IAAlB;AACD,GAJD;AAKD,CAND;;AAQAT,OAAOU,IAAP,CAAY,GAAZ,EAAiB,UAACR,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA6B;AAAA,sBAClBF,QAAQS,IADU;AAAA,MACpCC,KADoC,iBACpCA,KADoC;AAAA,MAC7BC,MAD6B,iBAC7BA,MAD6B;;;AAG5Cd,OAAKM,KAAL,CACE,mDADF,EAEE,CAACO,KAAD,EAAQC,MAAR,CAFF,EAGE,UAACP,GAAD,EAAMC,GAAN,EAAc;AACZ,QAAID,GAAJ,EAAS,OAAOF,KAAKE,GAAL,CAAP;;AAETH,aAASW,QAAT,CAAkB,UAAlB;AACD,GAPH;AASD,CAZD;;AAcAC,OAAOC,OAAP,GAAiBhB,MAAjB","file":"voltage.js","sourcesContent":["const { Router } = require('express');\r\nconst pool = require('../db');\r\n\r\nconst router = Router();\r\n\r\nrouter.get('/', (request, response, next) => {\r\n  pool.query('SELECT * FROM voltage ORDER BY id ASC', (err, res) => {\r\n    if (err) return next(err);\r\n\r\n    response.json(res.rows);\r\n  });\r\n});\r\n\r\nrouter.post('/', (request, response, next) => {\r\n  const { level, amount } = request.body;\r\n\r\n  pool.query(\r\n    'INSERT INTO voltage(level, amount) VALUES($1, $2)',\r\n    [level, amount],\r\n    (err, res) => {\r\n      if (err) return next(err);\r\n\r\n      response.redirect('/voltage');\r\n    },\r\n  );\r\n});\r\n\r\nmodule.exports = router;\r\n"]}